<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeLine</title>
    <link rel="icon" type="image/x-icon" href="img/logo.png">
    <link rel="stylesheet" href="style.css">
    <script type="module" src="canvas.js" defer></script>
    <script type="module" src="plotgraph.js" defer></script>
    <script type="module" src="parser.js" defer></script>
    <script type="module" src="numerical-analysis.js" defer></script>
    <script type="module" src="tools.js" defer></script>
    <script type="module" src="diff.js" defer></script>

</head>
<body>
    <div id="menu">
        <div id="title-and-logo">
            <h1 id="title">NeLine</h1>
            <img src="img/logo.png" alt="logo" width="50" id="logo">
        </div>
        <div id="inputs">
            <input type="text" class="inputFunction" placeholder="Input" id="0">
        </div>
        <button id="add">+</button>
        <button id="evaluateButton">Evaluate</button>
        <div id="one-value-evaluate">
            <label for="evaluateInput" id="evaluate-function">at x =</label>
            <input type="text"  placeholder="" id="single-input">
            <label for="evaluateInput" id="answer">=</label>
        </div>
        <p style="text-align: left; margin-left: 2rem; margin-right: 2em; margin-bottom: 1rem;">Tools:</p>
        <div id="tools">
            <input type="image" src="img/arrow.png" class="tool" id="standard">
            <input type="image" src="img/arrow.png" class="tool" id="snap">
            <input type="image" src="img/distance.png" class="tool" id="distance">
            <input type="image" src="img/area.png" class="tool" id="area">
            <input type="image" src="img/derivative.png" class="tool" id="derivative">
            <input type="image" src="img/volume-and-surface-tool.png" class="tool" id="volume">
            <input type="image" src="img/difference.png" class="tool" id="difference">
            <input type="image" src="img/volume-and-surface-tool.png" class="tool" id="surface-area">
            <input type="image" src="img/limit.png" class="tool" id="limit">
            <input type="image" src="img/continuity-tool.png" class="tool" id="continuity">
            <input type="image" src="img/roots.png" class="tool" id="root">
            <input type="image" src="img/turning.png" class="tool" id="turning">
        </div>

        <p style="text-align: left; margin-left: 2rem; margin-right: 2em; margin-bottom: 1rem;" id="tool-info">Click on a tool to activate it</p>
        <p style="text-align: left; margin-left: 2rem; margin-right: 2em;" id="info"></p>

        <div id="performance-box">
            <label for="performance">Performance Slider <br>(higher value = more accuracy but slower computer)</label>
            <input type="range" id="performance-slider" value="10" min="1">
            <label for="performance" id="performance-value" >10%</label>
        </div>
        <div id="decimal-box">
            <label for="decimal-input">Round to </label>
            <input type="number" id="decimal-input" value="2" min="0" max="15">
            <label for="decimal-input">Decimals</label>
        </div>        

        <p style="text-align: left; margin-left: 2rem; margin-right: 2em; margin-bottom: 1rem; margin-top: 2rem; font-size: 1rem;">You can use the following functions:</p>
        <ul>
            <li>sin(x) => Sine function</li>
            <li>cos(x) => Cosine function</li>
            <li>tan(x) => Tangent function</li>
            <li>asin(x) => Inverse Sine function</li>
            <li>acos(x) => Inverse Cosine function</li>
            <li>atan(x) => inverse Tangent function</li>
            <li>sinh(x) => Sine Hyperbolic function</li>
            <li>cosh(x) => Cosine Hyperbolic function</li>
            <li>tanh(x) => Tangent Hyperbolic function</li>
            <li>pow(x, 2) => x to power of 2 function</li>
            <li>sqrt(x) => Square Root function</li>
            <li>cbrt(x) => Cube Root function</li>
            <li>log(x) => Natural Log function</li>
            <li>log2(x) => Log of 2 function</li>
            <li>log10(x) => Log of 10 function</li>
            <li>exp(x) => Exponential function (base e)</li>
            <li>pow(2, x) => Exponential function (base 2)</li>
            <li>abs(x) => Absolute Value function</li>
            <li>ceil(x) => Ceiling function (returns closest integer)</li>
            <li>random(x) => Random function (returns random float between 0 and 1)</li>
            <li>sign(x) => Sign function  (returns 1 if positive, 0 otherwise)</li>
            <li>E => constant e ≈ 2.718</li>
            <li>PI => constant π ≈ 3.1415</li>
        </ul>
        <p>Coded by Sebastian Delgado</p>
        <a style="margin-top: .5rem; margin-bottom: 1rem;" href="https://github.com/SebCodesTheWeb/graphing-calculator">Github</a>
    </div>
    <!-- Live Code Editor -->
    <textarea id="js" placeholder="JavaScript" spellcheck="false">
//Write custom functions!
function myGraph(x) {
    
    return ; 
}

function diffEquation(x, y) {

    return ; 
}

//Fun Functions
function weierstrassFunction(x, a=0.5, b=3) {
    let sum = 0;
    for(let i = 0; i < 10; i++) {
        sum += (Math.pow(a, i) * Math.cos((Math.pow(b, i) * Math.PI * x)));
    }
    return sum;
}

function modulus(x) {
    return Math.pow(x, 2) % x
}

function theSebastianDFunction(x) {
    return (x*x%x+Math.ceil(x) * Math.sin(x) - Math.abs(x) + Math.sign(x) * Math.cbrt(x)%x -Math.tanh(x/10)*Math.E *x + Math.pow(Math.PI, Math.PI) +10 -Math.random(x) + 1/(Math.pow(x, 5)))/10 -4;
}

function specialCombo(x) { //one of my personal favourites
    return theSebastianDFunction(x) % weisterassFunction(x)  * modulus(x)   ;
}

function hybridCombo(x) {
    if(x < 2) {
    return Math.cbrt(x);
    }

    return hybridCombo(x-2) -Math.log(x);
}

function volterrasFunction(x) {
    return Math.sin(1/x)*Math.pow(x,2)
}

function getFactorial(x) { 
    let product = x;
    let i = x-1;
    while (i > 1) {
        product *= i;
        i--;
    }
    return product;
}


//Fun Differential Equations
function logisticGrowth(y, k=2, m=5) {
    return k*y*(1-(y/m)); 
}

function freeFall(y, k=0.005, m=1) {
    return 9.82-((k/m) * Math.pow(y, 2))
}

function orthogonalTrajectory(x, y, c=1) {
    return (x)/(c-y);
} 

function radioactiveDecay(x, k) {
    return -kx;
}

function exponentialGrowth(x, k) {
    return kx;
}

//t1 is room temperature
function newtonLawOfCooling(k, y, t1) {
    return -k*(y-t1);
}

    </textarea>    
    <iframe id="code">
    </iframe>
    <script type="text/javascript">
        const js = document.getElementById("js");
        const code = document.getElementById("code");
        function run() {
        code.contentWindow.Function(js.value); 
        }
    </script>

<!-- Input for linear transformations -->
<div id="matrix">
    <h2 style="margin-bottom: 0em;">Input Linear Transformation</h2>
    <label for="base-e-x" id="ex" style="margin-right: 3em;">e<sub>x</sub></label>
    <label for="base-e-x" id="ey">e<sub>y</sub></label>
        <div id="matrix-inputs">

            <input type="number" class="matrix-input" value="1" id="input-0">
            <input type="number" class="matrix-input" value="0" id="input-1">
            
            <input type="number" class="matrix-input" value="0" id="input-2">
            <input type="number" class="matrix-input" value="1" id="input-3">
        </div>
        <button id="reset">Reset</button>
    </div>

<!-- Differential Equations -->
<div id="diff"> 
    <h2>Differential Equations</h2>
    
<div id="inputs-diff">
    <!-- <div id="main-diff-input">
        <label for="diffInput">dy/dx = </label><input type="text" id="diffInput" placeholder="Input" >
    </div> -->
    <div id="step">
        <div >
            <label for="step-input">Step Size = </label><input type="number" id="step-input" value="0.1" min="0.001" class="diff-input" step="0.1">
            <label for="start-x-input">StartX </label><input type="number" id="start-x-input" value="0"  class="diff-input">
        </div>
        <div>
            <label for="start-y-input">StartY </label><input type="number" id="start-y-input" value="0"class="diff-input">
            <label for="stop-input">Stop </label><input type="number" id="stop-input" value="100" min="0" class="diff-input">
        </div>
    </div>
    <div id="methods">
        <h3 id="euler">Eulers Method</h3>
        <h3 id="mid">Mid point Method</h3>
        <h3 id="runge">RK4 Method</h3>
    </div>


</div>    

</div>   
    <canvas></canvas>
</body>
</html>